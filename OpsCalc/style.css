
    :root {
      --bg: #0f1220;
      --panel: #151a2e;
      --panel-2: #1b2140;
      --text: #e8ebff;
      --muted: #9aa3b2;
      --accent: #6c8cff;
      --accent-2: #90f7d8;
      --danger: #ff647c;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 10% 10%, #141834, #0a0d1a 60%, #000 100%);
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .calc {
      width: min(360px, 92vw);
      background: linear-gradient(180deg, var(--panel), var(--panel-2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      border: 1px solid rgba(255,255,255,.06);
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: rgba(255,255,255,0.03);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }

    .brand { font-weight: 700; letter-spacing: .3px; opacity: .9; }
    .theme-toggle {
      appearance: none;
      border: 1px solid rgba(255,255,255,.14);
      background: transparent;
      color: var(--text);
      padding: 6px 10px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform .08s ease;
    }
    .theme-toggle:active { transform: scale(.98); }

    .display {
      padding: 20px 16px 8px;
      min-height: 96px;
      display: grid;
      gap: 6px;
      align-content: end;
    }

    .previous {
      color: var(--muted);
      font-size: 14px;
      min-height: 18px;
      text-align: right;
      word-break: break-all;
    }
    .current {
      font-size: clamp(28px, 6vw, 40px);
      line-height: 1.15;
      text-align: right;
      font-variant-numeric: tabular-nums lining-nums;
      word-break: break-all;
    }

    .keys {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      padding: 16px;
    }

    button.key {
      appearance: none;
      border: none;
      background: #101631;
      color: var(--text);
      border-radius: 14px;
      padding: 16px 0;
      font-size: 18px;
      line-height: 1;
      cursor: pointer;
      box-shadow: inset 0 -2px 0 rgba(0,0,0,.25), 0 6px 16px rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.06);
      transition: transform .06s ease, background .2s ease, filter .2s ease;
    }
    button.key:hover { filter: brightness(1.08); }
    button.key:active { transform: translateY(1px); }

    .op { background: linear-gradient(180deg, #162053, #121a44); }
    .op[data-op] { border-color: rgba(108,140,255,.35); }
    .equals { background: linear-gradient(180deg, var(--accent), #4e6ef4); color: #0b1130; font-weight: 700; }
    .clear { background: linear-gradient(180deg, #2a1430, #1a0e22); color: #ffd5dc; border-color: rgba(255,100,124,.35); }
    .del { background: linear-gradient(180deg, #1a203e, #111730); }

    .span-2 { grid-column: span 2; }

    /* Light theme */
    .light {
      --bg: #f7f8fb;
      --panel: #ffffff;
      --panel-2: #f1f4ff;
      --text: #0f1220;
      --muted: #6b7280;
      --accent: #4e6ef4;
      --accent-2: #0bbf8a;
      --danger: #e11d48;
      background: radial-gradient(1200px 800px at 10% 10%, #e8edff, #f6f7ff 60%, #ffffff 100%);
    }
    .light .key { background: #eef1ff; border-color: rgba(16,22,49,.05); color: #0f1220; }
    .light .op { background: #e5e9ff; }
    .light .del { background: #e8ecff; }
    .light .clear { background: #ffe7ee; color: #3b0b18; }
    .light .equals { color: white; }

    footer.note {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      padding: 10px 0 16px;
    }

    /* Reduce motion preference */
    @media (prefers-reduced-motion: reduce) {
      .theme-toggle, .key { transition: none; }
    }
